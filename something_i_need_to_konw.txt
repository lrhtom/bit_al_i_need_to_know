13322603515 123456
2105837635@qq.com	   jianyaokeji@200324 123456è¿™ä¸ªè´¦å·ç™»å½•æ’ä»¶
https://www.tt123.com/


è¿™ä¸ªæ˜¯æµ‹è¯•çš„mqåœ°å€
http://112.74.104.156:15672 
admin
e897e069

æ•°æ®åº“è¿æ¥åœ°å€ï¼šrm-wz9hpx2gt8nnnz10qco.mysql.rds.aliyuncs.com
è´¦å·ï¼šdaren_dev_user
å¯†ç ï¼š@daren123

nodejs+websocket+ts+worker_theart

npx ts-node src/index.ts
å•ä½:ms
test1:5000 
test2:1
tesT3:0
test4:30000 

https://git.bitaihub.com/Bitai/creator-unified-exp
å…‹éš†åˆ†ç»„
$ git clone https://e.coding.net/g-sldf2848/agenthub/creator-extension.git 
cdåˆ°æŠ“ä¸‹æ¥çš„ç›®å½•
$ cd creator-extension/
åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯å’Œæ ‡ç­¾
$ git checkout  feature/sendmsg
æ˜¾ç¤ºæ‰€æœ‰æŒ‡å®šåˆ†æ”¯
$ git branch
æŸ¥çœ‹ç›®å½•æ–‡ä»¶
$ ls
æ˜¾ç¤ºæ‰€æœ‰æŒ‡å®šåˆ†æ”¯
$ git branch feature/login-feature
åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯å’Œæ ‡ç­¾
$ git checkout feature/login-feature
æŸ¥çœ‹ç›®å½•æ–‡ä»¶
$ ls
# æ‰§è¡Œåˆå¹¶
git merge origin/feature/login_feature_1.0.2  # å¦‚æœåˆ†æ”¯åœ¨è¿œç¨‹

å‘½ä»¤æ¥åˆ‡æ¢åˆ°æŸä¸ªæäº¤å“ˆå¸Œ
git checkout 0d5e215f7c5fd41453f7b4661df35a4a91e2ca8a

content:è´Ÿè´£ç›‘å¬
--api
background:åç«¯

æ˜¯ä¸è¿½è¸ªæ–‡ä»¶å¯ä»¥é¿å…æäº¤æ˜¯å—
git update-index --skip-worktree packages/creator-extension/config/env.ts

æµ‹è¯•ä»£ç 
async function findTikTokTab() {
  const tabs = await chrome.tabs.query({ 
    url: "https://affiliate-us.tiktok.com/product/sample-request?shop_region=US",
    status: "complete"
  });
  if (!tabs.length) throw new Error("æœªæ‰¾åˆ°TikTok Affiliateæ ‡ç­¾é¡µï¼Œè¯·å…ˆæ‰“å¼€å¯¹åº”é¡µé¢");
  return tabs[0].id;
}

// ===== æµ‹è¯•æ¶ˆæ¯æ•°ç»„ =====
const testMessages = [
  // æµ‹è¯•æ¶ˆæ¯1ï¼šcontent_type = 1ï¼ˆè§†é¢‘å†…å®¹ï¼‰
  {
    type: "get_video_data_response",
    data: {
      video_id: "8070728021973831829",
      region: "US",
      options: {
        size: 20,
        offset: 0,
        content_type: 1,  // è§†é¢‘å†…å®¹
        user_language: "en"
      }
    },
    taskId: "test-task-video",
    messageId: "test-msg-video"
  },
  // æµ‹è¯•æ¶ˆæ¯2ï¼šcontent_type = 2ï¼ˆç›´æ’­å†…å®¹ï¼‰
  {
    type: "get_video_data_response",
    data: {
      video_id: "8070728021973831829",
      region: "US",
      options: {
        size: 20,
        offset: 0,
        content_type: 2,  // ç›´æ’­å†…å®¹
        user_language: "en"
      }
    },
    taskId: "test-task-live",
    messageId: "test-msg-live"
  }
,
  // æµ‹è¯•æ¶ˆæ¯3
  {
    type: "get_video_data_response",
    data: {
      video_id: "8070726829523898551",
      region: "US",
      options: {
        size: 20,
        offset: 0,
        content_type: 2,  // ç›´æ’­å†…å®¹
        user_language: "en"
      }
    },
    taskId: "test-task-live",
    messageId: "test-msg-live"
  }

];

// ===== æ‰§è¡Œæµ‹è¯• =====
(async () => {
  try {
    const tabId = await findTikTokTab();
    console.log("ğŸ” ç›®æ ‡æ ‡ç­¾é¡µID:", tabId);
	let i=1;
    // éå†æµ‹è¯•æ¶ˆæ¯æ•°ç»„
    for (const testMessage of testMessages) {
      console.log(`\n=== æµ‹è¯• content_type=${testMessage.data.options.content_type}  æµ‹è¯•ç‚¹${i}===`);
i++;
      console.log("ğŸ“¤ å‘é€æµ‹è¯•æ¶ˆæ¯:", testMessage);
      
      const response = await chrome.tabs.sendMessage(tabId, testMessage);
      console.log("ğŸ“¥ æ”¶åˆ°å“åº”:", response);

      // æ¨¡æ‹ŸsocketServiceå¤„ç†
      const socketResponse = {
        type: "GET_VIDEO_DATA_RESPONSE",
        message: `æµ‹è¯•æˆåŠŸ (content_type=${testMessage.data.options.content_type})`,
        token: "mock-token",
        shopId: "mock-shop-id",
        data: response,
        code: 0,
        taskId: testMessage.taskId
      };
      console.log("ğŸš€ æ¨¡æ‹Ÿsocketå“åº”:", socketResponse);
    }
	console.log("All_AC");
  } catch (error) {
    console.error("âŒ æµ‹è¯•å¤±è´¥:", error);
  }
})();
åˆ†æ”¯origin/maoqi/feature/task_scheduleå®Œç¾é€šè¿‡
å¯ä»¥æ­£å¸¸å‘æ’ä»¶ä»¥æŒ‡å®šé¢‘ç‡å‘é€è¯·æ±‚
å¯ä»¥æ­£ç¡®è¿”å›è¯·æ±‚ç»“æœå¹¶ä¸”dataå’Œtokençš†ä¸ºæ­£å¸¸
0msæˆåŠŸè§¦å‘ä¿åº•æœºåˆ¶